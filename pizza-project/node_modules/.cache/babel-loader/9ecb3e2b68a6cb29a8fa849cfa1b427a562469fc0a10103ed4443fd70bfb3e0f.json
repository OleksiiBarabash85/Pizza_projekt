{"ast":null,"code":"import{useForm}from\"react-hook-form\";import{useDispatch,useSelector}from\"react-redux\";import{Collapse}from'antd';import{SetGroupIngredient,getIngredients}from\"../../Redux/Features/AdminReqests/ingredientReqestsSlice\";import IngredientItem from\"../IngredientItem/IngredientItem\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function IngredientListPage(){const{register,handleSubmit,formState:{errors}}=useForm();const dispatch=useDispatch();const ingredientList=useSelector(state=>state.ingredientReqest.ingredientListDataState);const groupIngredientState=useSelector(state=>state.ingredientReqest.groupIngredientState);const[updateNeeded,setUpdateNeeded]=useState(false);useEffect(()=>{if(updateNeeded){dispatch(getIngredients(groupIngredientState));setUpdateNeeded(false);}},[updateNeeded,groupIngredientState,dispatch]);const handleDelete=()=>{setUpdateNeeded(true);};const submit=data=>{dispatch(SetGroupIngredient(data.groupIngredient));setUpdateNeeded(true);};const ingredientsLabels=ingredientList&&ingredientList.map(item=>({label:/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\"},children:item.name}),key:item.id,children:/*#__PURE__*/_jsx(IngredientItem,{id:item.id,name:item.name,weight:item.weight,nutrition:item.nutrition,price:item.price,groupIngredient:item.groupIngredient,onDelete:handleDelete})}));return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(submit),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"groupIngredient\",children:\"Dough\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"groupIngredient\",...register(\"groupIngredient\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"SAUCE\",children:\"SAUCE\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BASIC\",children:\"BASIC\"}),/*#__PURE__*/_jsx(\"option\",{value:\" EXTRA\",children:\" EXTRA\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Get list\"})]}),/*#__PURE__*/_jsx(Collapse,{accordion:true,style:{background:'white'},items:ingredientsLabels})]});}export default IngredientListPage;","map":{"version":3,"names":["useForm","useDispatch","useSelector","Collapse","SetGroupIngredient","getIngredients","IngredientItem","useEffect","useState","jsx","_jsx","jsxs","_jsxs","IngredientListPage","register","handleSubmit","formState","errors","dispatch","ingredientList","state","ingredientReqest","ingredientListDataState","groupIngredientState","updateNeeded","setUpdateNeeded","handleDelete","submit","data","groupIngredient","ingredientsLabels","map","item","label","style","color","children","name","key","id","weight","nutrition","price","onDelete","onSubmit","htmlFor","value","type","accordion","background","items"],"sources":["C:/Users/Tel-ran.de/Desktop/pizza_project/pizza-project/src/Camponents/IngredientListPage/IngredientListPage.jsx"],"sourcesContent":["import { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {Collapse} from 'antd';\r\nimport {\r\n  SetGroupIngredient,\r\n  getIngredients,\r\n} from \"../../Redux/Features/AdminReqests/ingredientReqestsSlice\";\r\nimport IngredientItem from \"../IngredientItem/IngredientItem\";\r\nimport { useEffect,useState } from \"react\";\r\n\r\nfunction IngredientListPage() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const dispatch = useDispatch();\r\n  const ingredientList = useSelector(\r\n    (state) => state.ingredientReqest.ingredientListDataState\r\n  );\r\n  const groupIngredientState = useSelector(\r\n    (state) => state.ingredientReqest.groupIngredientState\r\n  );\r\n  const [updateNeeded, setUpdateNeeded] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    if (updateNeeded) {\r\n      dispatch(getIngredients(groupIngredientState));\r\n      setUpdateNeeded(false);\r\n    }\r\n  }, [updateNeeded, groupIngredientState, dispatch]);\r\n  const handleDelete = () => {\r\n    setUpdateNeeded(true);\r\n  };\r\n  const submit = (data) => {\r\n    dispatch(SetGroupIngredient(data.groupIngredient))\r\n    setUpdateNeeded(true);\r\n  };\r\n\r\n  const ingredientsLabels = \r\n    ingredientList &&\r\n        ingredientList.map((item) =>({\r\n          label: <span style={{ color: \"black\" }}>{item.name}</span>,\r\n          key: item.id,\r\n          children:(\r\n            <IngredientItem\r\n            id={item.id}\r\n            name={item.name}\r\n            weight={item.weight}\r\n            nutrition={item.nutrition}\r\n            price={item.price}\r\n            groupIngredient={item.groupIngredient}\r\n            onDelete ={handleDelete}\r\n          ></IngredientItem>\r\n          )\r\n        }))\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit(submit)}>\r\n        <label htmlFor=\"groupIngredient\">Dough</label>\r\n        <select id=\"groupIngredient\" {...register(\"groupIngredient\")}>\r\n          <option value=\"SAUCE\">SAUCE</option>\r\n          <option value=\"BASIC\">BASIC</option>\r\n          <option value=\" EXTRA\"> EXTRA</option>\r\n        </select>\r\n        <input type=\"submit\" value=\"Get list\" />\r\n      </form>\r\n      <Collapse accordion style={{background:'white'}} items={ingredientsLabels}/>\r\n      {/* {ingredientList &&\r\n        ingredientList.map((item) => {\r\n          return (\r\n            <div key={item.id}>\r\n              <IngredientItem\r\n                id={item.id}\r\n                name={item.name}\r\n                weight={item.weight}\r\n                nutrition={item.nutrition}\r\n                price={item.price}\r\n                groupIngredient={item.groupIngredient}\r\n                onDelete ={handleDelete}\r\n              ></IngredientItem>\r\n            </div>\r\n          );\r\n        })} */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IngredientListPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}