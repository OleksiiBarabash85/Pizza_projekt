{"ast":null,"code":"import{useSelector}from\"react-redux\";import AdminNavBar from\"./AdminNavBar\";import{useNavigate}from'react-router-dom';import{useEffect,useState}from\"react\";import{getRoleFromLocalStorage,saveRoleToLocalstorage,saveTokenToLocalstorage,saveIdToLocalstorage}from\"../../utils\";import{globalConfig}from\"antd/es/config-provider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NavBar(){const userData=useSelector(state=>state.userLogin.userDataState);const[role,setRole]=useState(getRoleFromLocalStorage());useEffect(()=>{if(userData&&userData.token&&userData.role){saveTokenToLocalstorage(userData.token);saveRoleToLocalstorage(userData.role);saveIdToLocalstorage(userData.userResponseDto.id);setRole(userData.role);}},[userData]);const navigate=useNavigate();const handleNavToMain=()=>{navigate('/');};const handleRegister=()=>{navigate('register');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleNavToMain,children:\"Main Page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,children:\"Register\"}),role&&role==='ROLE_ADMIN'&&/*#__PURE__*/_jsx(AdminNavBar,{})]});}export default NavBar;","map":{"version":3,"names":["useSelector","AdminNavBar","useNavigate","useEffect","useState","getRoleFromLocalStorage","saveRoleToLocalstorage","saveTokenToLocalstorage","saveIdToLocalstorage","globalConfig","jsx","_jsx","jsxs","_jsxs","NavBar","userData","state","userLogin","userDataState","role","setRole","token","userResponseDto","id","navigate","handleNavToMain","handleRegister","children","onClick"],"sources":["C:/Users/Tel-ran.de/Desktop/pizza_project/pizza-project/src/Camponents/NavBar/NavBar.jsx"],"sourcesContent":["import { useSelector} from \"react-redux\";\r\nimport AdminNavBar from \"./AdminNavBar\";\r\nimport {useNavigate} from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\";\r\nimport { getRoleFromLocalStorage,saveRoleToLocalstorage,saveTokenToLocalstorage,saveIdToLocalstorage } from \"../../utils\";\r\nimport { globalConfig } from \"antd/es/config-provider\";\r\n\r\n\r\nfunction NavBar(){\r\n    const userData = useSelector((state)=>state.userLogin.userDataState);\r\n    const [role, setRole] = useState(getRoleFromLocalStorage());\r\n    useEffect(() => {\r\n      if (userData && userData.token&&userData.role) {\r\n        saveTokenToLocalstorage(userData.token);\r\n        saveRoleToLocalstorage(userData.role);\r\n        saveIdToLocalstorage(userData.userResponseDto.id)\r\n        setRole(userData.role);\r\n      }\r\n    }, [userData]);\r\n    \r\n    const navigate = useNavigate()\r\n    const handleNavToMain = ()=>{\r\n        navigate('/')\r\n    }\r\n    const handleRegister = ()=>{\r\n        navigate('register')\r\n    }\r\n    return(\r\n        <div>\r\n            <button onClick={handleNavToMain}>Main Page</button>\r\n            <button onClick={handleRegister}>Register</button>\r\n            {role&&role==='ROLE_ADMIN'&&<AdminNavBar></AdminNavBar>}\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default NavBar;"],"mappings":"AAAA,OAASA,WAAW,KAAO,aAAa,CACxC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,uBAAuB,CAACC,sBAAsB,CAACC,uBAAuB,CAACC,oBAAoB,KAAQ,aAAa,CACzH,OAASC,YAAY,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGvD,QAAS,CAAAC,MAAMA,CAAA,CAAE,CACb,KAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAEgB,KAAK,EAAGA,KAAK,CAACC,SAAS,CAACC,aAAa,CAAC,CACpE,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAACC,uBAAuB,CAAC,CAAC,CAAC,CAC3DF,SAAS,CAAC,IAAM,CACd,GAAIY,QAAQ,EAAIA,QAAQ,CAACM,KAAK,EAAEN,QAAQ,CAACI,IAAI,CAAE,CAC7CZ,uBAAuB,CAACQ,QAAQ,CAACM,KAAK,CAAC,CACvCf,sBAAsB,CAACS,QAAQ,CAACI,IAAI,CAAC,CACrCX,oBAAoB,CAACO,QAAQ,CAACO,eAAe,CAACC,EAAE,CAAC,CACjDH,OAAO,CAACL,QAAQ,CAACI,IAAI,CAAC,CACxB,CACF,CAAC,CAAE,CAACJ,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAS,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAuB,eAAe,CAAGA,CAAA,GAAI,CACxBD,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,CACD,KAAM,CAAAE,cAAc,CAAGA,CAAA,GAAI,CACvBF,QAAQ,CAAC,UAAU,CAAC,CACxB,CAAC,CACD,mBACIX,KAAA,QAAAc,QAAA,eACIhB,IAAA,WAAQiB,OAAO,CAAEH,eAAgB,CAAAE,QAAA,CAAC,WAAS,CAAQ,CAAC,cACpDhB,IAAA,WAAQiB,OAAO,CAAEF,cAAe,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,CACjDR,IAAI,EAAEA,IAAI,GAAG,YAAY,eAAER,IAAA,CAACV,WAAW,GAAc,CAAC,EACtD,CAAC,CAGd,CACA,cAAe,CAAAa,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}